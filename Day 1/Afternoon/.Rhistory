filter(!is.na(Education) & !is.na(BMI)) %>%
group_by(Education) %>%
ggplot(aes (x = reorder(Education, BMI, median), y = BMI, colour = Education)) +
geom_violin() +
geom_jitter(alpha = .2, width = .1) +
geom_boxplot(alpha = .5, width = .2) +
guides(colour = FALSE)
NHANES_tidied %>%
filter(!is.na(Education) & !is.na(BMI)) %>%
group_by(Education) %>%
ggplot(aes (x = reorder(Education, BMI, median), y = BMI, colour = Education)) +
geom_violin() +
geom_jitter(alpha = .2, width = .1) +
geom_boxplot(alpha = .5, width = 1) +
guides(colour = FALSE)
NHANES_tidied %>%
filter(!is.na(Education) & !is.na(BMI)) %>%
group_by(Education) %>%
ggplot(aes (x = reorder(Education, BMI, median), y = BMI, colour = Education)) +
geom_violin() +
geom_jitter(alpha = .2, width = .1) +
geom_boxplot(alpha = .5) +
guides(colour = FALSE)
NHANES_tidied %>%
filter(!is.na(Education) & !is.na(BMI)) %>%
group_by(Education) %>%
ggplot(aes (x = reorder(Education, BMI, median), y = BMI, colour = Education)) +
geom_violin() +
geom_jitter(alpha = .2, width = .1) +
geom_boxplot(alpha = .5) +
guides(colour = FALSE) +
labs(x = "Education Level", y = "BMI", title = "Examining the effect of education level on BMI")
NHANES_tidied %>% group_by(Work) %>% summarise(mean(BMI, na.rm = TRUE))
NHANES_tidied %>% group_by(Education, Work) %>% summarise(mean(BMI, na.rm = TRUE))
NHANES_tidied %>%
filter(!is.na(Education) & !is.na(Work)) %>%
group_by(Education, Work) %>%
summarise(mean(BMI, na.rm = TRUE))
NHANES_tidied %>%
filter(!is.na(Education) & !is.na(Work)) %>%
group_by(Education, Work) %>%
summarise(mean = mean(BMI, na.rm = TRUE)) %>%
arrange(desc(mean))
NHANES_tidied %>%
filter(!is.na(Education) & !is.na(Work) & !is.na(BMI)) %>%
ggplot(aes (x = reorder(Education:Work, BMI, median), y = BMI,
colour = Education:Work)) +
geom_boxplot() +
coord_flip() +
guides(colour = FALSE) +
labs(x = "Education X Working", y = "BMI", title = "Examining the effect of education level and employment \nstatus on BMI")
unique(NHANES_tidied$Race1)
NHANES_tidied %>%
filter(!is.na(Education) & !is.na(Work) & !is.na(BMI) & !Race1 == "Other")
NHANES_tidied %>%
filter(!is.na(Education) & !is.na(Work) & !is.na(BMI) & !Race1 == "Other") %>%
ggplot(aes (x = Race1, y = BMI)) +
boxplot()
NHANES_tidied %>%
filter(!is.na(Education) & !is.na(Work) & !is.na(BMI) & !Race1 == "Other") %>%
ggplot(aes (x = Race1, y = BMI)) +
geom_boxplot()
NHANES_tidied %>%
filter(!is.na(Education) & !is.na(Work) & !is.na(BMI) & !Race1 == "Other") %>%
ggplot(aes (x = reorder(Race1, BMI, median), y = BMI)) +
geom_boxplot()
NHANES_tidied %>%
filter(!is.na(Education) & !is.na(Work) & !is.na(BMI) & !Race1 == "Other") %>%
ggplot(aes (x = reorder(Race1, BMI, median), y = BMI)) +
geom_boxplot() +
labs(x = "Race", y = "BMI", title = "Examining Race and BMI")
NHANES_tidied %>%
filter(!is.na(Education) & !is.na(Work) & !is.na(BMI)) %>%
ggplot(aes (x = Education:Work, BMI, y = BMI,
colour = Education:Work)) +
geom_boxplot() +
coord_flip() +
guides(colour = FALSE) +
labs(x = "Education X Working", y = "BMI", title = "Examining the effect of education level and employment \nstatus on BMI") +
facet_wrap(~ Race1)
NHANES_tidied %>%
filter(!is.na(Education) & !is.na(Work) & !is.na(BMI) & !Race1 == "Other") %>%
ggplot(aes (x = Education:Work, BMI, y = BMI,
colour = Education:Work)) +
geom_boxplot() +
coord_flip() +
guides(colour = FALSE) +
labs(x = "Education X Working", y = "BMI", title = "Examining the effect of education level and employment \nstatus on BMI") +
facet_wrap(~ Race1)
NHANES_tidied %>%
filter(!is.na(Education) & !is.na(Work) & !is.na(BMI) & !Race1 == "Other") %>%
ggplot(aes (x = Education:Work, BMI, y = BMI,
colour = Education:Work)) +
geom_boxplot() +
coord_flip() +
guides(colour = FALSE) +
labs(x = "Education X Working", y = "BMI", title = "Examining the effect of education level and employment \nstatus on BMI") +
facet_wrap(~ Race1, Gender)
NHANES_tidied$Gender
NHANES_tidied %>%
filter(!is.na(Education) & !is.na(Work) & !is.na(BMI) & !Race1 == "Other") %>%
ggplot(aes (x = Education:Work, BMI, y = BMI,
colour = Education:Work)) +
geom_boxplot() +
coord_flip() +
guides(colour = FALSE) +
labs(x = "Education X Working", y = "BMI", title = "Examining the effect of education level and employment \nstatus on BMI") +
facet_wrap(~ Race1:Gender)
NHANES_tidied %>%
ggplot(aes (x = BMI)) +
geom_histogram()
NHANES_tidied %>%
ggplot(aes (x = BMI)) +
geom_histogram(bins = 50)
NHANES_tidied %>%
ggplot(aes (x = BMI)) +
geom_histogram(bins = 500)
NHANES_tidied %>%
ggplot(aes (x = BMI)) +
geom_histogram(bins = 200)
NHANES_tidied %>%
ggplot(aes (x = BMI)) +
geom_histogram(bins = 100)
```{r}
NHANES_tidied %>% group_by(Education) %>% summarise(median(BMI, na.rm = TRUE))
NHANES_tidied %>%
filter(!is.na(Education) & !is.na(BMI)) %>%
group_by(Education) %>%
ggplot(aes (x = reorder(Education, BMI, median), y = BMI, colour = Education)) +
geom_violin() +
geom_jitter(alpha = .2, width = .1) +
geom_boxplot(alpha = .5) +
guides(colour = FALSE) +
labs(x = "Education Level", y = "BMI", title = "Examining the effect of education level on median BMI")
NHANES_tidied %>%
filter(!is.na(Education) & !is.na(BMI)) %>%
group_by(Education) %>%
ggplot(aes (x = BMI, colour = Education)) +
geom_histogram() +
guides(colour = FALSE) +
labs(x = "Education Level", y = "BMI", title = "Examining the effect of education level on median BMI") +
facet_wrap(~ Education)
NHANES_tidied %>%
filter(!is.na(Education) & !is.na(BMI)) %>%
group_by(Education) %>%
ggplot(aes (x = BMI, fill = Education)) +
geom_histogram() +
guides(colour = FALSE) +
labs(x = "Education Level", y = "BMI", title = "Examining the effect of education level on median BMI") +
facet_wrap(~ Education)
NHANES_tidied %>%
filter(!is.na(Education) & !is.na(BMI)) %>%
group_by(Education) %>%
ggplot(aes (x = BMI, fill = Education)) +
geom_histogram() +
guides(fill = FALSE) +
labs(x = "Education Level", y = "BMI", title = "Examining the effect of education level on median BMI") +
facet_wrap(~ Education)
NHANES_tidied %>%
filter(!is.na(Education) & !is.na(BMI)) %>%
group_by(Education) %>%
ggplot(aes (x = BMI, fill = Education)) +
geom_histogram(stat = density) +
guides(fill = FALSE) +
labs(x = "Education Level", y = "BMI", title = "Examining the effect of education level on median BMI") +
facet_wrap(~ Education)
NHANES_tidied %>%
filter(!is.na(Education) & !is.na(BMI)) %>%
group_by(Education) %>%
ggplot(aes (x = BMI, fill = Education)) +
geom_histogram(aes(y=..density..)) +
guides(fill = FALSE) +
labs(x = "Education Level", y = "BMI", title = "Examining the effect of education level on median BMI") +
facet_wrap(~ Education)
NHANES_tidied %>%
filter(!is.na(Education) & !is.na(BMI)) %>%
group_by(Education) %>%
ggplot(aes (x = BMI, fill = Education)) +
geom_histogram(aes(y = ..density..)) +
geom_density(aes(y=..density..)) +
guides(fill = FALSE) +
labs(x = "Education Level", y = "BMI", title = "Examining the effect of education level on median BMI") +
facet_wrap(~ Education)
library(gganimate)
NHANES_tidied %>%
filter(!is.na(BMI)) %>%
ggplot(aes(x = BMI)) +
geom_histogram(aes(y = ..density..))
NHANES$Age
NHANES$AgeDecade
NHANES_tidied %>%
filter(!is.na(BMI)) %>%
ggplot(aes(x = BMI)) +
geom_histogram(aes(y = ..density..)) +
facet_wrap(~ AgeDecade)
NHANES_tidied %>%
filter(!is.na(BMI & !is.na(AgeDecade))) %>%
ggplot(aes(x = BMI)) +
geom_histogram(aes(y = ..density..)) +
facet_wrap(~ AgeDecade)
NHANES$AgeDecade
NHANES_tidied %>%
filter(!is.na(BMI) & !is.na(AgeDecade)) %>%
ggplot(aes(x = BMI)) +
geom_histogram(aes(y = ..density..)) +
facet_wrap(~ AgeDecade)
NHANES_tidied %>%
filter(!is.na(BMI) & !is.na(AgeDecade)) %>%
ggplot(aes(x = BMI)) +
geom_histogram(aes(y = ..density..)) +
transition_time(~ AgeDecde)
NHANES_tidied %>%
filter(!is.na(BMI) & !is.na(AgeDecade)) %>%
ggplot(aes(x = BMI)) +
geom_histogram(aes(y = ..density..)) +
transition_time(~ AgeDecde)
?transition_states
NHANES_tidied %>%
filter(!is.na(BMI) & !is.na(AgeDecade)) %>%
ggplot(aes(x = BMI)) +
geom_histogram(aes(y = ..density..)) +
transition_timeAgeDecde)
NHANES_tidied %>%
filter(!is.na(BMI) & !is.na(AgeDecade)) %>%
ggplot(aes(x = BMI)) +
geom_histogram(aes(y = ..density..)) +
transition_time(AgeDecde)
NHANES_tidied %>%
filter(!is.na(BMI) & !is.na(AgeDecade)) %>%
ggplot(aes(x = BMI)) +
geom_histogram(aes(y = ..density..)) +
transition_time(AgeDecade)
NHANES$Age
NHANES_tidied %>%
filter(!is.na(BMI) & !is.na(AgeDecade)) %>%
ggplot(aes(x = BMI)) +
geom_histogram(aes(y = ..density..)) +
transition_state(AgeDecade)
NHANES_tidied %>%
filter(!is.na(BMI) & !is.na(AgeDecade)) %>%
ggplot(aes(x = BMI)) +
geom_histogram(aes(y = ..density..)) +
transition_states(AgeDecade)
NHANES_tidied %>%
filter(!is.na(BMI) & !is.na(AgeDecade)) %>%
ggplot(aes(x = BMI)) +
geom_histogram(aes(y = ..density..)) +
transition_states(AgeDecade, transition_length = 2)
NHANES_tidied %>%
filter(!is.na(BMI) & !is.na(AgeDecade)) %>%
ggplot(aes(x = BMI)) +
geom_histogram(aes(y = ..density..)) +
transition_states(AgeDecade, transition_length = 2, state_length = 2)
NHANES_tidied %>%
filter(!is.na(BMI) & !is.na(AgeDecade)) %>%
ggplot(aes(x = BMI), colour = AgeDecade) +
geom_density(aes(y = ..density..)) +
transition_states(AgeDecade, transition_length = 2, state_length = 2)
ggplot(aes(x = BMI, colour = AgeDecade) +
NHANES_tidied %>%
filter(!is.na(BMI) & !is.na(AgeDecade)) %>%
ggplot(aes(x = BMI, colour = AgeDecade)) +
geom_density(aes(y = ..density..)) +
transition_states(AgeDecade, transition_length = 2, state_length = 2)
NHANES_tidied %>%
filter(!is.na(BMI) & !is.na(AgeDecade)) %>%
ggplot(aes(x = BMI, colour = AgeDecade)) +
geom_density(aes(y = ..density..)) +
transition_states(AgeDecade, transition_length = 2, state_length = 2)
NHANES_tidied %>%
filter(!is.na(BMI) & !is.na(AgeDecade)) %>%
ggplot(aes(x = BMI, colour = AgeDecade)) +
geom_density(aes(y = ..density..))
NHANES_tidied %>%
filter(!is.na(BMI) & !is.na(AgeDecade & !AgeDecade == "0-9")) %>%
ggplot(aes(x = BMI, colour = AgeDecade)) +
geom_density(aes(y = ..density..))
NHANES_tidied %>%
filter(!is.na(BMI) & !is.na(AgeDecade)) %>%
ggplot(aes(x = BMI, colour = AgeDecade)) +
geom_density(aes(y = ..density..))
NHANES_tidied %>%
filter(!is.na(BMI) & !is.na(AgeDecade)) %>%
ggplot(aes(x = BMI, colour = AgeDecade)) +
geom_density(aes(y = ..density..)) +
transition_states(AgeDecade, transition_length = 2, state_length = 2)
NHANES_tidied %>%
filter(!is.na(BMI) & !is.na(AgeDecade)) %>%
ggplot(aes(x = BMI, colour = AgeDecade)) +
geom_density(aes(y = ..density..)) +
transition_manual(AgeDecade, transition_length = 2, state_length = 2)
?transition_manual
NHANES_tidied %>%
filter(!is.na(BMI) & !is.na(AgeDecade)) %>%
ggplot(aes(x = BMI, colour = AgeDecade)) +
geom_density(aes(y = ..density..)) +
transition_manual(5)
NHANES_tidied %>%
filter(!is.na(BMI) & !is.na(AgeDecade)) %>%
ggplot(aes(x = BMI, colour = AgeDecade)) +
geom_histogram(aes(y = ..density..)) +
transition_states(AgeDecade, transition_length = 2, state_length = 2)
?ease_aes
NHANES_tidied %>%
filter(!is.na(BMI) & !is.na(AgeDecade)) %>%
ggplot(aes(x = BMI)) +
geom_histogram(aes(y = ..density..)) +
transition_states(AgeDecade, transition_length = 2, state_length = 2) +
ease_aes('linear')
? transition_states
NHANES_tidied %>%
filter(!is.na(BMI) & !is.na(AgeDecade)) %>%
ggplot(aes(x = BMI)) +
geom_histogram(aes(y = ..density..)) +
transition_states(AgeDecade, transition_length = 2, state_length = 2) +
ease_aes('linear') +
labs(title = "Age decade: {closest_state}")
?geom_abline
NHANES_tidied %>%
filter(!is.na(BMI) & !is.na(AgeDecade)) %>%
ggplot(aes(x = BMI)) +
geom_density(aes(y = ..density..)) +
transition_states(AgeDecade, transition_length = 2, state_length = 2) +
ease_aes('linear') +
labs(title = "Age decade: {closest_state}")
NHANES_tidied %>%
filter(!is.na(BMI) & !is.na(AgeDecade)) %>%
ggplot(aes(x = BMI)) +
geom_histogram(aes(y = ..density..), bins = 100) +
transition_states(AgeDecade, transition_length = 2, state_length = 2) +
ease_aes('linear') +
labs(title = "Age decade: {closest_state}")
NHANES_tidied$AgeDecade
NHANES_tidied %>%
filter(!is.na(BMI) & !is.na(AgeDecade & !AgeDecade == 0-9)) %>%
ggplot(aes(x = BMI, colour = AgeDecade)) +
geom_histogram(aes(y = ..density..), bins = 100) +
transition_states(AgeDecade, transition_length = 2, state_length = 2) +
ease_aes('linear') +
labs(title = "Age decade: {closest_state}")
NHANES_tidied %>%
filter(!is.na(BMI) & !is.na(AgeDecade)) %>%
ggplot(aes(x = BMI, colour = AgeDecade)) +
geom_histogram() +
transition_states(AgeDecade, transition_length = 2, state_length = 2) +
ease_aes('linear') +
labs(title = "Age decade: {closest_state}")
NHANES_tidied %>%
filter(!is.na(BMI) & !is.na(AgeDecade)) %>%
ggplot(aes(x = BMI)) +
geom_histogram() +
transition_states(AgeDecade, transition_length = 2, state_length = 2) +
ease_aes('linear') +
labs(title = "Age decade: {closest_state}")
NHANES_tidied %>%
filter(!is.na(BMI) & !is.na(AgeDecade)) %>%
ggplot(aes(x = BMI)) +
geom_histogram(bins = 100) +
transition_states(AgeDecade, transition_length = 2, state_length = 2) +
ease_aes("linear") +
labs(title = "Age decade: {closest_state}")
NHANES_tidied %>%
filter(!is.na(Education) & !is.na(BMI)) %>%
group_by(Education) %>%
ggplot(aes (x = reorder(Education, BMI, median), y = BMI, colour = Education)) +
geom_violin() +
geom_jitter(alpha = .2, width = .1) +
geom_boxplot(alpha = .5) +
guides(colour = FALSE) +
labs(x = "Education Level", y = "BMI", title = "Examining the effect of education level on median BMI")
NHANES_tidied %>%
filter(!is.na(Education) & !is.na(BMI)) %>%
group_by(Education) %>%
ggplot(aes (x = BMI, fill = Education)) +
geom_histogram() +
guides(fill = FALSE) +
labs(x = "Education Level", y = "BMI", title = "Examining the effect of education level on median BMI") +
facet_wrap(~ Education)
NHANES_tidied %>%
filter(!is.na(Education) & !is.na(BMI)) %>%
group_by(Education) %>%
ggplot(aes (x = reorder(Education, BMI, median), y = BMI, colour = Education)) +
geom_violin() +
geom_jitter(alpha = .2, width = .1) +
geom_boxplot(alpha = .5) +
guides(colour = FALSE) +
labs(x = "Education Level", y = "BMI", title = "Examining the effect of education level on median BMI") +
transition_states(Education, transition_length = 2, state_length = 2) +
ease_aes("linear") +
labs(title = "Age decade: {closest_state}")
NHANES_tidied %>%
filter(!is.na(Education) & !is.na(BMI)) %>%
group_by(Education) %>%
ggplot(aes (x = reorder(Education, BMI, median), y = BMI, colour = Education)) +
geom_violin() +
geom_jitter(alpha = .2, width = .1) +
geom_boxplot(alpha = .5) +
guides(colour = FALSE) +
labs(x = "Education Level", y = "BMI", title = "Examining the effect of education level on median BMI") +
transition_states(Race1, transition_length = 2, state_length = 2) +
ease_aes("linear") +
labs(title = "Education level: {closest_state}")
NHANES_tidied %>%
filter(!is.na(Education) & !is.na(BMI) & !Race1 == "Other") %>%
group_by(Education) %>%
ggplot(aes (x = reorder(Education, BMI, median), y = BMI, colour = Education)) +
geom_violin() +
geom_jitter(alpha = .2, width = .1) +
geom_boxplot(alpha = .5) +
guides(colour = FALSE) +
labs(x = "Education Level", y = "BMI", title = "Examining the effect of education level on median BMI") +
transition_states(Race1, transition_length = 2, state_length = 2) +
ease_aes("linear") +
labs(title = "Race: {closest_state}")
NHANES_tidied %>%
filter(!is.na(Education) & !is.na(BMI)) %>%
group_by(Education) %>%
ggplot(aes (x = reorder(Education, BMI, median), y = BMI, colour = Education)) +
geom_violin() +
#geom_jitter(alpha = .2, width = .1) +
geom_boxplot(alpha = .5) +
guides(colour = FALSE) +
labs(x = "Education Level", y = "BMI", title = "Examining the effect of education level on median BMI for Race= {closest_state}") +
transition_states(Race1, transition_length = 2, state_length = 2) +
ease_aes("linear")
NHANES_tidied %>%
filter(!is.na(BMI) & !is.na(AgeDecade)) %>%
ggplot(aes(x = BMI)) +
geom_histogram(bins = 100) +
transition_states(AgeDecade, transition_length = 2, state_length = 2) +
ease_aes("linear") +
labs(title = "Age decade: {closest_state}")
NHANES_tidied %>%
filter(!is.na(Education) & !is.na(Work)) %>%
group_by(Education, Work) %>%
summarise(mean = mean(BMI, na.rm = TRUE)) %>%
arrange(desc(mean))
library(tidyverse)
library(NHANES)
library(gganimate)
NHANES_tidied <- NHANES %>%
distinct(ID, .keep_all = TRUE)
NHANES_tidied %>%
filter(!is.na(Education) & !is.na(Work)) %>%
group_by(Education, Work) %>%
summarise(mean = mean(BMI, na.rm = TRUE)) %>%
arrange(desc(mean))
NHANES_tidied %>%
filter(!is.na(Education) & !is.na(Work)) %>%
group_by(Education, Work) %>%
summarise(median = median(BMI, na.rm = TRUE)) %>%
arrange(desc(median))
install.packages("tidyverse")
library(tidyverse)
library(NHANES)
library(gganimate)
colnames(NHANES)
nrow(NHANES)
```{r}
NHANES_tidied <- NHANES %>%
distinct(ID, .keep_all = TRUE)
nrow(NHANES_tidied)
NHANES_tidied
NHANES_tidied %>%
filter(!is.na(Education) & !is.na(BMI)) %>%
group_by(Education) %>%
ggplot(aes(x = reorder(Education, BMI, median), y = BMI, colour = Education)) +
geom_violin() +
#geom_jitter(alpha = .2, width = .1) +
geom_boxplot(alpha = .5) +
guides(colour = FALSE) +
labs(x = "Education Level", y = "BMI", title = "Examining the effect of education level on median BMI for Race = {closest_state}") +
transition_states(Race1, transition_length = 2, state_length = 2) +
ease_aes("linear")
anim_save
?anim_save
anim_save(test.gif)
anim_save(filename = test.gif)
anim_save(filename = "test.gif")
NHANES_tidied
install.packages(c("animation", "backports", "bookdown", "broom", "callr", "classInt", "ddalpha", "effects", "emmeans", "gamlss.dist", "generics", "ggimage", "ggstatsplot", "httr", "hunspell", "jmv", "jmvcore", "jsonlite", "knitr", "lava", "markdown", "olsrr", "pillar", "prediction", "processx", "quantreg", "RcppEigen", "readr", "rio", "rmarkdown", "rvcheck", "sfsmisc", "spData", "StanHeaders", "survey", "survival", "transformr", "tweenr", "units", "visdat"))
NHANES_tidied %>%
filter(!is.na(Education) & !is.na(Work) & !is.na(BMI) & Race1 != "Other") %>%
ggplot(aes(x = reorder(Race1, BMI, median), y = BMI, colour = Race1)) +
geom_boxplot() +
labs(x = "Race", y = "BMI", title = "Examining Race and BMI")
NHANES_tidied %>%
filter(!is.na(Education) & !is.na(Work) & !is.na(BMI) & Race1 != "Other") %>%
ggplot(aes(x = reorder(Race1, BMI, median), y = BMI, colour = Race1)) +
geom_boxplot() +
labs(x = "Race", y = "BMI", title = "Examining Race and BMI")
library(tidyverse)
NHANES_tidied %>%
filter(!is.na(Education) & !is.na(Work) & !is.na(BMI) & Race1 != "Other") %>%
ggplot(aes(x = reorder(Race1, BMI, median), y = BMI, colour = Race1)) +
geom_boxplot() +
labs(x = "Race", y = "BMI", title = "Examining Race and BMI")
NHANES_tidied %>%
filter(!is.na(Education) & !is.na(Work) & !is.na(BMI) & Race1 != "Other") %>%
ggplot(aes(x = reorder(Race1, BMI, median), y = BMI, colour = Race1)) +
geom_boxplot() +
guides(colour = FALSE) +
labs(x = "Race", y = "BMI", title = "Examining Race and BMI")
NHANES_tidied %>%
ggplot(aes(x = BMI)) +
geom_histogram(bins = 100)
NHANES_tidied %>%
ggplot(aes(x = BMI), na.rm = TRUE) +
geom_histogram(bins = 100)
NHANES_tidied %>%
ggplot(aes(x = BMI)) +
geom_histogram(bins = 100, na.rm = TRUE)
